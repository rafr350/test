<section class="middle">
  <div class="container" id="main">
    <div id="brand_list" class="listhasx">
      <h2>
        <a [routerLink]="['/admin/product-add']" routerLinkActive="router-link-active" class="float-end">
        Thêm sản phẩm
        </a>
      </h2>

      <!-- Loading Indicator -->
      <div class="text-center" *ngIf="isLoading">Loading...</div>

      <!-- Product List -->
      <div *ngIf="!isLoading" id="data">
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Hình</th>
              <th scope="col">Tên</th>
              <th scope="col">Giá</th>
              <th scope="col" [width]="200">Chức Năng</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let product of products | paginate: { itemsPerPage: 5, currentPage: p }; index as i">
              <td>{{ i + 1 }}</td>
              <td><img [src]="product.image" width="100" alt="Product Image"></td>
              <td>{{ product.name }}</td>
              <td>{{ product.price | currency }}</td>
              <td>
                <a [routerLink]="['/admin/product-edit', product._id]" class="btn btn-warning px-3 me-1">Edit</a>
                <button (click)="onDelete(product._id)" class="btn btn-danger px-3">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Pagination Controls -->
        <div class="text-center">
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>
